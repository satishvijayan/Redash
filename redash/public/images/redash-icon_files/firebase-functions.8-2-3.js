!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).firebase)}(this,function(L){"use strict";try{(function(){var n,t=(n=L)&&"object"==typeof n&&"default"in n?n:{default:n},r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)};function e(n,t){function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function u(n,u,s,c){return new(s=s||Promise)(function(e,t){function r(n){try{o(c.next(n))}catch(n){t(n)}}function i(n){try{o(c.throw(n))}catch(n){t(n)}}function o(n){var t;n.done?e(n.value):((t=n.value)instanceof s?t:new s(function(n){n(t)})).then(r,i)}o((c=c.apply(n,u||[])).next())})}function d(e,r){var i,o,u,s={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(t){return function(n){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(u=2&t[0]?o.return:t[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,t[1])).done)return u;switch(o=0,u&&(t=[2&t[0],u.value]),t[0]){case 0:case 1:u=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(u=0<(u=s.trys).length&&u[u.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!u||t[1]>u[0]&&t[1]<u[3])){s.label=t[1];break}if(6===t[0]&&s.label<u[1]){s.label=u[1],u=t;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(t);break}u[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(e,s)}catch(n){t=[6,n],o=0}finally{i=u=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,n])}}}var i,o="FirebaseError",s=(e(c,i=Error),c);function c(n,t,e){return(t=i.call(this,t)||this).code=n,t.customData=e,t.name=o,Object.setPrototypeOf(t,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,a.prototype.create),t}var a=(f.prototype.create=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r,i=t[0]||{},o=this.service+"/"+n;n=(n=this.errors[n])?(r=i,n.replace(h,function(n,t){var e=r[t];return null!=e?String(e):"<"+t+"?>"})):"Error",n=this.serviceName+": "+n+" ("+o+").";return new s(o,n,i)},f);function f(n,t,e){this.service=n,this.serviceName=t,this.errors=e}var h=/\{\$([^}]+)}/g,l=(v.prototype.setInstantiationMode=function(n){return this.instantiationMode=n,this},v.prototype.setMultipleInstances=function(n){return this.multipleInstances=n,this},v.prototype.setServiceProps=function(n){return this.serviceProps=n,this},v);function v(n,t,e){this.name=n,this.instanceFactory=t,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var p,w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},b=(e(E,p=Error),E);function E(n,t,e){return t=p.call(this,t)||this,Object.setPrototypeOf(t,E.prototype),t.code=n,t.details=e,t}var y=(N.prototype.getAuthToken=function(){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=n.sent())?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},N.prototype.getInstanceIdToken=function(){return u(this,void 0,void 0,function(){return d(this,function(n){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(n){return[2,void 0]}return[2]})})},N.prototype.getContext=function(){return u(this,void 0,void 0,function(){var t,e;return d(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},N);function N(n,t){var e=this;this.auth=null,this.messaging=null,this.auth=n.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||n.get().then(function(n){return e.auth=n},function(){}),this.messaging||t.get().then(function(n){return e.messaging=n},function(){})}function m(n,t){var e,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=t(n[e]));return r}var g=(O.prototype.encode=function(n){var t=this;if(null==n)return null;if(n instanceof Number&&(n=n.valueOf()),"number"==typeof n&&isFinite(n))return n;if(!0===n||!1===n)return n;if("[object String]"===Object.prototype.toString.call(n))return n;if(Array.isArray(n))return n.map(function(n){return t.encode(n)});if("function"==typeof n||"object"==typeof n)return m(n,function(n){return t.encode(n)});throw new Error("Data cannot be encoded in JSON: "+n)},O.prototype.decode=function(n){var t=this;if(null==n)return n;if(n["@type"])switch(n["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e;default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(function(n){return t.decode(n)}):"function"==typeof n||"object"==typeof n?m(n,function(n){return t.decode(n)}):n},O);function O(){}var A,T,D,I=(Object.defineProperty(S.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),S.prototype._url=function(n){var t=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+n:"https://"+this.region+"-"+t+".cloudfunctions.net/"+n:this.emulatorOrigin+"/"+t+"/"+this.region+"/"+n},S.prototype.useEmulator=function(n,t){this.emulatorOrigin="http://"+n+":"+t},S.prototype.useFunctionsEmulator=function(n){this.emulatorOrigin=n},S.prototype.httpsCallable=function(t,e){var r=this;return function(n){return r.call(t,n,e||{})}},S.prototype.postJSON=function(r,i,o){return u(this,void 0,void 0,function(){var t,e;return d(this,function(n){switch(n.label){case 0:o["Content-Type"]="application/json",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetchImpl(r,{method:"POST",body:JSON.stringify(i),headers:o})];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[2,{status:0,json:null}];case 4:e=null,n.label=5;case 5:return n.trys.push([5,7,,8]),[4,t.json()];case 6:return e=n.sent(),[3,8];case 7:return n.sent(),[3,8];case 8:return[2,{status:t.status,json:e}]}})})},S.prototype.call=function(a,f,h){return u(this,void 0,void 0,function(){var i,o,u,s,c;return d(this,function(n){switch(n.label){case 0:return i=this._url(a),f=this.serializer.encode(f),o={data:f},u={},[4,this.contextProvider.getContext()];case 1:return(s=n.sent()).authToken&&(u.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(u["Firebase-Instance-ID-Token"]=s.instanceIdToken),c=h.timeout||7e4,e=c,t=new Promise(function(n,t){r=setTimeout(function(){t(new b("deadline-exceeded","deadline-exceeded"))},e)}),c=(s={timer:r,promise:t}).timer,s=s.promise,[4,Promise.race([j(c,this.postJSON(i,o,u)),s,j(c,this.cancelAllRequests)])];case 2:if(!(s=n.sent()))throw new b("cancelled","Firebase Functions instance was deleted.");if(c=function(t,n,e){var r=function(n){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(),i=r,o=void 0;try{var u=n&&n.error;if(u){var s=u.status;if("string"==typeof s){if(!w[s])return new b("internal","internal");r=w[s],i=s}"string"==typeof(s=u.message)&&(i=s),void 0!==(o=u.details)&&(o=e.decode(o))}}catch(t){}return"ok"===r?null:new b(r,i,o)}(s.status,s.json,this.serializer))throw c;if(!s.json)throw new b("internal","Response is not valid JSON object.");if(void 0===(c=s.json.data)&&(c=s.json.result),void 0===c)throw new b("internal","Response is missing data field.");return[2,{data:this.serializer.decode(c)}]}var e,r,t})})},S);function S(n,t,e,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=n,this.fetchImpl=i,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new y(t,e),this.cancelAllRequests=new Promise(function(n){o.deleteService=function(){return n()}});try{var u=new URL(r);this.customDomain=u.origin,this.region="us-central1"}catch(n){this.customDomain=null,this.region=r}}function j(e,r){return u(this,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return[4,r];case 1:return t=n.sent(),clearTimeout(e),[2,t]}})})}A=t.default,T=fetch.bind(self),D={Functions:I},A.INTERNAL.registerComponent(new l("functions",function(n,t){var e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal");n=n.getProvider("messaging");return new I(e,r,n,t,T)},"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),t.default.registerVersion("@firebase/functions","0.6.1")}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-functions.js - be sure to load firebase-app.js first.")}});